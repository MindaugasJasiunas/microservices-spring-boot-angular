<div class="container" style="margin: 50px">

  <table class="table table-striped" *ngIf="packages$ | async as packages; else loading">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Package</th>
        <th scope="col">Address</th>
        <th scope="col">QTY</th>
        <th scope="col">Weight</th>
        <th scope="col">Phone</th>
        <th scope="col">Pickup time</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let package of packages">
        <th scope="row">{{ getCounter() }}</th>
        <td data-toggle="tooltip" data-placement="right" title="{{package.trackingNumber}}">
          {{package.trackingNumber.slice(0, 4)+'...'+package.trackingNumber.slice(-4)}}
        </td>
        <td>
          <table>
            <tr>
              <td>address</td>
              <td>{{package.sender.address.address1}}</td>
            </tr>
            <tr *ngIf="package.sender.address.address2 != null">
              <td>address2</td>
              <td>{{package.sender.address.address2}}</td>
            </tr>
            <tr *ngIf="package.sender.address.address3 != null">
              <td>address3</td>
              <td>{{package.sender.address.address3}}</td>
            </tr>
            <tr>
              <td>house</td>
              <td>{{package.sender.address.houseNumber }}</td>
            </tr>
            <tr>
              <td>apartment</td>
              <td>{{package.sender.address.apartmentNumber }}</td>
            </tr>
            <tr>
              <td>postal</td>
              <td>{{package.sender.address.postalCode }}</td>
            </tr>
            <tr>
              <td>city</td>
              <td>{{package.sender.address.city }}</td>
            </tr>
            <tr>
              <td>state</td>
              <td>{{package.sender.address.state }}</td>
            </tr>
          </table>
        </td>
        <td>{{package.numberOfPackages}}</td>
        <td>{{package.packageWeight}}</td>
        <td>{{package.sender.phoneNumber}}</td>
        <td>NOT_SET</td>
        <td style="text-align:right">
          <a class="btn btn-primary disabled">assign pickup</a>
        </td>
      </tr>

    </tbody>
  </table>

  <nav aria-label="packages navifation">
    <ul class="pagination justify-content-end">
      <li class="page-item disabled">
        <a class="page-link" href="#" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item active"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>


  <ng-template #loading>
    <span>Loading...</span>
  </ng-template>


</div>
